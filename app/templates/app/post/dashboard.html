{% extends 'app/base.html'%}
{% load static %}
{% load pagination_tags %}


{% block main-content %}
<div class="d-flex justify-content-center align-items-center h-100">
  <div class="col-lg-7 col-xl-7">
<div class="table-responsive small">
    <table class="table table-striped table-sm text-center">
      {% if dashboard %}
        <thead>
          <tr>
            <th scope="col" class="col-sm-1">Order number</th>
            <th scope="col">Caption</th>
            <th scope="col">Name</th>
            <th scope="col">Applied time</th>
            <th scope="col" class="col-sm-1">Status</th>
            <th scope="col" class="col-sm-1"></th>
            <th scope="col" class="col-sm-1"> Hightlight </th>
          
          </tr>
        </thead>
        <tbody>
          {% for application in dashboard %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ application.caption }}</td>
            <td>{{ application.user_name }}</td>
            <td>{{ application.applied_time }}</td>
            <td class="{% if application.status == 'PENDING' %}text-center fw-bold{% elif application.status == 'ACCEPTED' %}table-success text-center text-success fw-bold{% else %}table-danger text-center text-danger fw-bold{% endif %}">
              {{ application.status }}
            <td><a href="{% url 'view_cv' %}" class="btn btn-primary btn-sm col-sm-25">View CV</a></td>
            <td><i class="bi bi-star bi-lg"></i></td>
            
          </tr>
          {% endfor %}
        </tbody>
        {% else %}
          <p class="text-center fw-bold "><h3>No application history found.</h3></p>
        {% endif %}
    </table>
  </div>
</div>
</div>
        
{% endblock main-content %}


<!-- A prototype for looping the code --> 

<!--
<div class="row d-flex justify-content-center align-items-center h-100">
  <div class="col-lg-7 col-xl-7">
    <div class="table-responsive small">
      <table class="table table-striped table-sm text-center">
        <thead>
          <tr>
            <th scope="col" class="col-sm-1">Order number</th>
            <th scope="col">Caption</th>
            <th scope="col">Name</th>
            <th scope="col">Applied time</th>
            <th scope="col" class="col-sm-1">Status</th>
            <th scope="col" class="col-sm-1"></th>
            <th scope="col" class="col-sm-1">Highlight</th>
          </tr>
        </thead>
        <tbody>
          {% for item in data %}
            <tr>
              <td>{{ item.order_number }}</td>
              <td>{{ item.caption }}</td>
              <td>{{ item.name }}</td>
              <td>{{ item.applied_time }}</td>
              {% if item.status == 'PENDING' %}
                <td class="table-secondary fw-bold col-sm-1">PENDING</td>
              {% elif item.status == 'DENIED' %}
                <td class="table-danger text-danger fw-bold">DENIED</td>
              {% elif item.status == 'ACCEPTED' %}
                <td class="table-success text-success fw-bold">ACCEPTED</td>
              {% endif %}
              <td><a href="{% url 'view_cv' %}" class="btn btn-primary btn-sm col-sm-25">View CV</a></td>
              {% if item.highlight == 'star' %}         
                <td class="text-warning"><i class="bi bi-star bi-lg"></i></td>
              {% else %}
                <td><i class="bi bi-star-fill bi-lg"></i></td>
              {% endif %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
-->




<!-- This code is for the future, related to Hightlight applicants-->
<!--
 <td><i class="bi bi-check-circle"></i></td>
<td><i class="bi bi-star bi-lg"></i></td> -->